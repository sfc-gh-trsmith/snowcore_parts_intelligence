<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 675" role="img" aria-label="UPIP Architecture - Detailed View">
  <defs>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap');
      .title { font-family: 'Inter', sans-serif; font-size: 28px; font-weight: 700; fill: #FFFFFF; }
      .subtitle { font-family: 'Inter', sans-serif; font-size: 16px; font-weight: 400; fill: #8A999E; }
      .layer-label { font-family: 'Inter', sans-serif; font-size: 12px; font-weight: 700; fill: #8A999E; letter-spacing: 1px; }
      .table-name { font-family: 'Inter', sans-serif; font-size: 11px; font-weight: 600; fill: #FFFFFF; text-anchor: middle; }
      .table-desc { font-family: 'Inter', sans-serif; font-size: 9px; font-weight: 400; fill: #8A999E; text-anchor: middle; }
      .service-name { font-family: 'Inter', sans-serif; font-size: 11px; font-weight: 600; fill: #FFFFFF; text-anchor: middle; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="675" fill="#000000"/>
  
  <!-- Title Section -->
  <text x="40" y="40" class="title">Detailed Architecture</text>
  <text x="40" y="62" class="subtitle">Data flow through schema layers with Cortex AI integration</text>
  
  <!-- External Systems Layer -->
  <g transform="translate(40, 90)">
    <text x="0" y="12" class="layer-label">EXTERNAL</text>
    <rect x="70" y="0" width="860" height="55" rx="8" fill="#1a1a1a" stroke="#8A999E" stroke-width="1"/>
    
    <g transform="translate(130, 28)">
      <rect x="-50" y="-15" width="100" height="30" rx="4" fill="#24323D"/>
      <text x="0" y="5" class="table-name">Windchill</text>
    </g>
    <g transform="translate(270, 28)">
      <rect x="-50" y="-15" width="100" height="30" rx="4" fill="#24323D"/>
      <text x="0" y="5" class="table-name">SolidWorks</text>
    </g>
    <g transform="translate(410, 28)">
      <rect x="-50" y="-15" width="100" height="30" rx="4" fill="#24323D"/>
      <text x="0" y="5" class="table-name">Supplier Feeds</text>
    </g>
    <g transform="translate(550, 28)">
      <rect x="-55" y="-15" width="110" height="30" rx="4" fill="#24323D"/>
      <text x="0" y="5" class="table-name">Compliance Docs</text>
    </g>
    <g transform="translate(700, 28)">
      <rect x="-50" y="-15" width="100" height="30" rx="4" fill="#24323D"/>
      <text x="0" y="5" class="table-name">ERP Systems</text>
    </g>
  </g>
  
  <!-- Flow arrows -->
  <g stroke="#29B5E8" stroke-width="1.5" fill="none" opacity="0.5">
    <path d="M500,145 L500,160"/>
    <polygon points="495,158 500,168 505,158" fill="#29B5E8"/>
  </g>
  
  <!-- RAW Schema Layer -->
  <g transform="translate(40, 170)">
    <text x="0" y="12" class="layer-label">RAW</text>
    <rect x="70" y="0" width="860" height="70" rx="8" fill="#11567F" opacity="0.3" stroke="#11567F" stroke-width="1"/>
    
    <g transform="translate(200, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#29B5E8" stroke-width="1"/>
      <text x="0" y="0" class="table-name">PLM_EXPORTS</text>
      <text x="0" y="12" class="table-desc">20K+ records</text>
    </g>
    <g transform="translate(430, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#29B5E8" stroke-width="1"/>
      <text x="0" y="0" class="table-name">SUPPLIER_FEEDS</text>
      <text x="0" y="12" class="table-desc">Vendor data</text>
    </g>
    <g transform="translate(660, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#29B5E8" stroke-width="1"/>
      <text x="0" y="0" class="table-name">ENGINEERING_DOCS</text>
      <text x="0" y="12" class="table-desc">Text + metadata</text>
    </g>
  </g>
  
  <!-- Flow arrows -->
  <g stroke="#29B5E8" stroke-width="1.5" fill="none" opacity="0.5">
    <path d="M500,240 L500,260"/>
    <polygon points="495,258 500,268 505,258" fill="#29B5E8"/>
  </g>
  
  <!-- ATOMIC Schema Layer -->
  <g transform="translate(40, 270)">
    <text x="0" y="12" class="layer-label">ATOMIC</text>
    <rect x="70" y="0" width="860" height="70" rx="8" fill="#003545" opacity="0.4" stroke="#29B5E8" stroke-width="1"/>
    
    <g transform="translate(160, 35)">
      <rect x="-70" y="-20" width="140" height="40" rx="6" fill="#003545" stroke="#71D3DC" stroke-width="1"/>
      <text x="0" y="0" class="table-name">PART_MASTER</text>
      <text x="0" y="12" class="table-desc">Unified catalog</text>
    </g>
    <g transform="translate(350, 35)">
      <rect x="-70" y="-20" width="140" height="40" rx="6" fill="#003545" stroke="#71D3DC" stroke-width="1"/>
      <text x="0" y="0" class="table-name">SUPPLIER_MASTER</text>
      <text x="0" y="12" class="table-desc">Vendor profiles</text>
    </g>
    <g transform="translate(540, 35)">
      <rect x="-70" y="-20" width="140" height="40" rx="6" fill="#003545" stroke="#71D3DC" stroke-width="1"/>
      <text x="0" y="0" class="table-name">PURCHASE_ORDERS</text>
      <text x="0" y="12" class="table-desc">Transaction history</text>
    </g>
    <g transform="translate(730, 35)">
      <rect x="-70" y="-20" width="140" height="40" rx="6" fill="#003545" stroke="#71D3DC" stroke-width="1"/>
      <text x="0" y="0" class="table-name">BOM_STRUCTURES</text>
      <text x="0" y="12" class="table-desc">Product hierarchy</text>
    </g>
  </g>
  
  <!-- Flow arrows -->
  <g stroke="#29B5E8" stroke-width="1.5" fill="none" opacity="0.5">
    <path d="M500,340 L500,360"/>
    <polygon points="495,358 500,368 505,358" fill="#29B5E8"/>
  </g>
  
  <!-- DATA_SCIENCE Schema Layer -->
  <g transform="translate(40, 370)">
    <text x="0" y="12" class="layer-label">DATA_SCIENCE</text>
    <rect x="70" y="0" width="630" height="100" rx="8" fill="#0d1f29" stroke="#71D3DC" stroke-width="1"/>
    
    <g transform="translate(140, 30)">
      <rect x="-60" y="-15" width="120" height="30" rx="4" fill="#11567F"/>
      <text x="0" y="5" class="table-name">PART_EMBEDDINGS</text>
    </g>
    <g transform="translate(290, 30)">
      <rect x="-70" y="-15" width="140" height="30" rx="4" fill="#11567F"/>
      <text x="0" y="5" class="table-name">SIMILARITY_SCORES</text>
    </g>
    <g transform="translate(450, 30)">
      <rect x="-60" y="-15" width="120" height="30" rx="4" fill="#11567F"/>
      <text x="0" y="5" class="table-name">PARTS_ANALYTICS</text>
    </g>
    <g transform="translate(600, 30)">
      <rect x="-60" y="-15" width="120" height="30" rx="4" fill="#11567F"/>
      <text x="0" y="5" class="table-name">RISK_SCORES</text>
    </g>
    
    <g transform="translate(200, 75)">
      <rect x="-80" y="-15" width="160" height="30" rx="4" fill="#11567F"/>
      <text x="0" y="5" class="table-name">CONSOLIDATION_SCENARIOS</text>
    </g>
    <g transform="translate(420, 75)">
      <rect x="-70" y="-15" width="140" height="30" rx="4" fill="#11567F"/>
      <text x="0" y="5" class="table-name">PART_REUSE_EVENTS</text>
    </g>
  </g>
  
  <!-- Cortex Services Sidebar -->
  <g transform="translate(960, 170)">
    <rect x="0" y="0" width="180" height="300" rx="12" fill="#0d1f29" stroke="#FF9F36" stroke-width="2"/>
    <text x="90" y="25" text-anchor="middle" font-family="Inter" font-size="12" font-weight="700" fill="#FF9F36" letter-spacing="1px">CORTEX AI</text>
    
    <g transform="translate(90, 60)">
      <rect x="-70" y="-15" width="140" height="35" rx="6" fill="#24323D" stroke="#29B5E8" stroke-width="1"/>
      <text x="0" y="2" class="service-name">EMBED_TEXT_768</text>
      <text x="0" y="14" class="table-desc">Vector embeddings</text>
    </g>
    
    <g transform="translate(90, 115)">
      <rect x="-70" y="-15" width="140" height="35" rx="6" fill="#24323D" stroke="#29B5E8" stroke-width="1"/>
      <text x="0" y="2" class="service-name">Cortex Search</text>
      <text x="0" y="14" class="table-desc">Document RAG</text>
    </g>
    
    <g transform="translate(90, 170)">
      <rect x="-70" y="-15" width="140" height="35" rx="6" fill="#24323D" stroke="#29B5E8" stroke-width="1"/>
      <text x="0" y="2" class="service-name">Cortex Analyst</text>
      <text x="0" y="14" class="table-desc">Text-to-SQL</text>
    </g>
    
    <g transform="translate(90, 225)">
      <rect x="-70" y="-15" width="140" height="35" rx="6" fill="#24323D" stroke="#FF9F36" stroke-width="1"/>
      <text x="0" y="2" class="service-name" style="fill: #FF9F36;">Cortex Agent</text>
      <text x="0" y="14" class="table-desc">Orchestration</text>
    </g>
    
    <g transform="translate(90, 275)">
      <rect x="-70" y="-12" width="140" height="24" rx="4" fill="#FF9F36" opacity="0.2"/>
      <text x="0" y="5" font-family="Inter" font-size="10" fill="#FF9F36" text-anchor="middle">AI-Powered Insights</text>
    </g>
  </g>
  
  <!-- Arrows to Cortex -->
  <g stroke="#29B5E8" stroke-width="1" fill="none" opacity="0.4" stroke-dasharray="4,2">
    <path d="M700,200 L950,200"/>
    <path d="M700,300 L950,260"/>
    <path d="M700,420 L950,350"/>
  </g>
  
  <!-- Streamlit Apps Layer -->
  <g transform="translate(40, 500)">
    <text x="0" y="12" class="layer-label">APPLICATIONS</text>
    <rect x="70" y="0" width="1070" height="70" rx="8" fill="#24323D" stroke="#FF9F36" stroke-width="1"/>
    
    <g transform="translate(180, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#FF9F36" stroke-width="1"/>
      <text x="0" y="0" class="table-name" style="fill: #FF9F36;">Part Matcher</text>
      <text x="0" y="12" class="table-desc">Engineering persona</text>
    </g>
    <g transform="translate(400, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#FF9F36" stroke-width="1"/>
      <text x="0" y="0" class="table-name" style="fill: #FF9F36;">Supply Chain Tower</text>
      <text x="0" y="12" class="table-desc">VP Supply Chain</text>
    </g>
    <g transform="translate(620, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#FF9F36" stroke-width="1"/>
      <text x="0" y="0" class="table-name" style="fill: #FF9F36;">Procurement Ops</text>
      <text x="0" y="12" class="table-desc">Procurement persona</text>
    </g>
    <g transform="translate(840, 35)">
      <rect x="-80" y="-20" width="160" height="40" rx="6" fill="#11567F" stroke="#FF9F36" stroke-width="1"/>
      <text x="0" y="0" class="table-name" style="fill: #FF9F36;">Sourcing Assistant</text>
      <text x="0" y="12" class="table-desc">Cortex Agent chat</text>
    </g>
    <g transform="translate(1050, 35)">
      <rect x="-55" y="-20" width="110" height="40" rx="6" fill="#11567F"/>
      <text x="0" y="0" class="table-name">About</text>
      <text x="0" y="12" class="table-desc">Documentation</text>
    </g>
  </g>
  
  <!-- Flow arrow to apps -->
  <g stroke="#FF9F36" stroke-width="1.5" fill="none" opacity="0.5">
    <path d="M500,470 L500,495"/>
    <polygon points="495,493 500,503 505,493" fill="#FF9F36"/>
  </g>
  
  <!-- Legend -->
  <g transform="translate(40, 600)">
    <rect x="0" y="0" width="1100" height="55" rx="8" fill="#1a1a1a"/>
    <text x="20" y="20" font-family="Inter" font-size="11" font-weight="600" fill="#8A999E">LEGEND:</text>
    
    <rect x="90" y="8" width="20" height="12" rx="2" fill="#11567F"/>
    <text x="115" y="18" font-family="Inter" font-size="10" fill="#8A999E">RAW Layer</text>
    
    <rect x="190" y="8" width="20" height="12" rx="2" fill="#003545"/>
    <text x="215" y="18" font-family="Inter" font-size="10" fill="#8A999E">ATOMIC Layer</text>
    
    <rect x="310" y="8" width="20" height="12" rx="2" fill="#0d1f29" stroke="#71D3DC" stroke-width="1"/>
    <text x="335" y="18" font-family="Inter" font-size="10" fill="#8A999E">DATA_SCIENCE</text>
    
    <rect x="430" y="8" width="20" height="12" rx="2" fill="#24323D" stroke="#FF9F36" stroke-width="1"/>
    <text x="455" y="18" font-family="Inter" font-size="10" fill="#8A999E">Cortex AI</text>
    
    <text x="20" y="45" font-family="Inter" font-size="10" fill="#8A999E">
      Data flows top-to-bottom through schema layers. Cortex services process data at each level. Applications consume refined analytics.
    </text>
  </g>
</svg>
